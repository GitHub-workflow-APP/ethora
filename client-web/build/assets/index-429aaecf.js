import{k as n,p as f,l as e,a8 as I,b3 as u,bk as R,a4 as c,bs as M,bt as T,bu as B,aD as O,ah as p,ai as m,a6 as $,aw as A}from"./index-2048bd11.js";import{R as g}from"./ResponsiveContainer-9023a65b.js";import{L as j,C as y,X as v,Y as C,T as D,b}from"./LineChart-8e8d5d32.js";function G({appToken:t}){const[s,a]=n.useState(0),r=f(),[l,d]=n.useState([]),[h,i]=n.useState(!1),o=async()=>{i(!0);try{const x=await u(t).get("users/count");a(x.data.count);const H=await u(t).get("users/graph");d(R(H.data))}catch(x){console.log(x)}i(!1)};return n.useEffect(()=>{t&&o()},[t]),h?e.jsx("div",{className:"dashboard-graph",style:{marginRight:"10px",justifyContent:"center",alignItems:"center"},children:e.jsx(I,{})}):e.jsxs("div",{className:"dashboard-graph",style:{marginRight:"10px"},children:[e.jsxs("a",{className:"title",onClick:x=>x.preventDefault(),href:"/",children:["Users ",s]}),e.jsx(g,{height:"100%",children:e.jsxs(j,{width:500,height:300,data:l,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(v,{dataKey:"date"}),e.jsx(C,{dataKey:"y"}),e.jsx(D,{}),e.jsx(b,{type:"monotone",name:"Users",dataKey:"y",stroke:r.palette.primary.main,activeDot:{r:8}})]})})]})}function K(t){const s=a=>{t.setCurrentAppIndex(a.target.value)};return e.jsx(c,{sx:{width:150,marginBottom:"20px"},children:e.jsxs(M,{fullWidth:!0,children:[e.jsx(T,{id:"demo-simple-select-label",children:"App"}),e.jsx(B,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.currentAppIndex,label:"App",onChange:s,children:t.apps.map((a,r)=>e.jsx(O,{value:r,children:a.appName},a._id))})]})})}function L({}){const t=f();return e.jsxs("div",{className:"dashboard-graph",style:{marginRight:"10px"},children:[e.jsx("a",{className:"title",onClick:s=>s.preventDefault(),href:"/",children:"Tokens"}),e.jsx(g,{height:"100%",children:e.jsxs(j,{width:500,height:300,data:[],margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(v,{dataKey:"date"}),e.jsx(C,{dataKey:"y"}),e.jsx(D,{}),e.jsx(b,{type:"monotone",name:"Transactions",dataKey:"y",stroke:t.palette.primary.main,activeDot:{r:8}})]})})]})}function E({appToken:t}){const[s,a]=n.useState([]),[r,l]=n.useState(!1),d=f(),h=async()=>{l(!0);try{const i=await u(t).get("explorer/graph");a(R(i.data))}catch(i){console.log(i)}l(!1)};return n.useEffect(()=>{t&&h()},[t]),r?e.jsx("div",{className:"dashboard-graph",style:{marginRight:"10px",justifyContent:"center",alignItems:"center"},children:e.jsx(I,{})}):e.jsxs("div",{className:"dashboard-graph",style:{marginRight:"10px"},children:[e.jsx("a",{className:"title",onClick:i=>i.preventDefault(),href:"/",children:"Transactions"}),e.jsx(g,{height:"100%",children:e.jsxs(j,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(y,{strokeDasharray:"3 3"}),e.jsx(v,{dataKey:"date"}),e.jsx(C,{dataKey:"y"}),e.jsx(D,{}),e.jsx(b,{type:"monotone",name:"Transactions",dataKey:"y",stroke:d.palette.primary.main,activeDot:{r:8}})]})})]})}var w={},P=m;Object.defineProperty(w,"__esModule",{value:!0});var z=w.default=void 0,U=P(p()),V=e,q=(0,U.default)((0,V.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel");z=w.default=q;function F({appToken:t}){const[s,a]=n.useState(0);return n.useEffect(()=>{t&&u(t).get("/explorer/count/contract").then(r=>{a(r.data.count)})},[t]),e.jsx("div",{className:"dashboard-graph",style:{marginRight:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end",width:"100%"},children:e.jsxs(c,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100%"},children:[e.jsx(z,{style:{fontSize:"90px",color:"#604020"},color:"inherit"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{children:s}),e.jsx("span",{children:"Contracts"})]})]})})}var _={},W=m;Object.defineProperty(_,"__esModule",{value:!0});var N=_.default=void 0,X=W(p()),Y=e,J=(0,X.default)((0,Y.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlined");N=_.default=J;var S={},Q=m;Object.defineProperty(S,"__esModule",{value:!0});var k=S.default=void 0,Z=Q(p()),ee=e,te=(0,Z.default)((0,ee.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffOutlined");k=S.default=te;function se({blockchain:t}){return e.jsx("div",{className:"dashboard-graph",style:{marginRight:"10px",width:"100%"},children:e.jsxs(c,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100%"},children:[!!(t!=null&&t.latestBlockNumber)&&e.jsx(N,{style:{fontSize:"90px",color:"green"}}),!(t!=null&&t.latestBlockNumber)&&e.jsx(k,{style:{fontSize:"90px",color:"red"}}),e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx("span",{children:"Network Health"})})]})})}function ae({width:t,color:s}){return e.jsx("svg",{fill:s,xmlns:"http://www.w3.org/2000/svg",width:t,viewBox:"0 0 640 512",children:e.jsx("path",{d:"M296 136V88h48v48H296zM288 32c-26.5 0-48 21.5-48 48v4H121.6C111.2 62.7 89.3 48 64 48C28.7 48 0 76.7 0 112s28.7 64 64 64c25.3 0 47.2-14.7 57.6-36h66.9c-58.9 39.6-98.9 105-104 180H80c-26.5 0-48 21.5-48 48v64c0 26.5 21.5 48 48 48h64c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48h-3.3c5.9-67 48.5-123.4 107.5-149.1c8.6 12.7 23.2 21.1 39.8 21.1h64c16.6 0 31.1-8.4 39.8-21.1c59 25.7 101.6 82.1 107.5 149.1H496c-26.5 0-48 21.5-48 48v64c0 26.5 21.5 48 48 48h64c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48h-4.5c-5-75-45.1-140.4-104-180h66.9c10.4 21.3 32.3 36 57.6 36c35.3 0 64-28.7 64-64s-28.7-64-64-64c-25.3 0-47.2 14.7-57.6 36H400V80c0-26.5-21.5-48-48-48H288zM88 376h48v48H88V376zm416 48V376h48v48H504z"})})}function re({blockchain:t}){return e.jsx("div",{className:"dashboard-graph",style:{marginRight:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end",width:"100%"},children:e.jsxs(c,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100%"},children:[e.jsx(ae,{color:"#0071e6",width:"100px"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("span",{children:t.peerCount}),e.jsx("span",{children:"Peers"})]})]})})}function oe(){var i;const t=$(o=>o.apps),[s,a]=n.useState(0),r=(i=t[s])==null?void 0:i.appToken,[l,d]=n.useState({blockTimestamp:"",latestBlockHash:"",latestBlockNumber:0,noOfTransactions:0,peerCount:0,pendingTransactions:0,transactionDifficulty:0}),h=async()=>{try{const o=await u(r).get("/explorer/blockchain");d(o.data)}catch(o){console.log(o)}};return n.useEffect(()=>{t.length>0&&a(0)},[t]),n.useEffect(()=>{h()},[]),e.jsx("div",{style:{backgroundColor:"#edf0f4",padding:"20px"},children:e.jsxs(A,{maxWidth:"xl",style:{width:"100%"},children:[e.jsx(K,{apps:t,currentAppIndex:s,setCurrentAppIndex:a}),e.jsxs(c,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gridTemplateRows:"250px 250px"},children:[!!r&&e.jsxs(e.Fragment,{children:[" ",e.jsx(G,{appToken:r}),e.jsx(L,{}),e.jsx(E,{appToken:r})]}),e.jsxs(c,{sx:{display:"flex",width:"100%"},children:[e.jsx(F,{appToken:r}),e.jsx(se,{blockchain:l}),e.jsx(re,{blockchain:l})]})]})]})})}export{oe as default};
